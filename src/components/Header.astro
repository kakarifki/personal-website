---
const navLinks = [
  { href: "#home", label: "Home" },
  { href: "#about", label: "About" },
  { href: "#experience", label: "Experience" },
  { href: "#projects", label: "Projects" },
  { href: "#contact", label: "Contact" },
];
---

<header class="fixed top-0 left-0 right-0 z-50 bg-slate-950/90 border-b border-slate-800 backdrop-blur-sm">
  <div class="container mx-auto px-6 py-4">
    <div class="flex justify-between items-center">
      <!-- Logo -->
      <a href="#home" class="group relative z-50">
        <span class="text-2xl font-bold text-white hover:text-sky-400 transition-colors duration-300">
          Rifki Septiawan
        </span>
      </a>

      <!-- Desktop Navigation -->
      <nav class="hidden md:flex items-center gap-8">
        {navLinks.map((link) => (
          link.label === "Contact" ? (
            <a
              href={link.href}
              class="px-5 py-2 rounded-full font-medium text-white bg-slate-800 hover:bg-slate-700 border border-slate-700 hover:border-slate-600 transition-all duration-300 transform hover:-translate-y-0.5"
            >
              {link.label}
            </a>
          ) : (
            <a
              href={link.href}
              class="relative font-medium text-gray-300 hover:text-white transition-colors duration-300 group py-2"
            >
              {link.label}
              <span class="absolute bottom-0 left-0 w-full h-0.5 bg-sky-500 transform scale-x-0 group-hover:scale-x-100 transition-transform duration-300 origin-left"></span>
            </a>
          )
        ))}
      </nav>

      <!-- Mobile Menu Button -->
      <button
        id="mobile-menu-toggle"
        class="md:hidden relative z-50 p-2 text-gray-300 hover:text-white transition-colors focus:outline-none"
        aria-label="Toggle menu"
      >
        <div class="w-6 h-6 flex flex-col justify-center items-center gap-1.5 overflow-hidden">
          <span id="line-1" class="w-6 h-0.5 bg-current transition-transform duration-300 origin-center"></span>
          <span id="line-2" class="w-6 h-0.5 bg-current transition-opacity duration-300"></span>
          <span id="line-3" class="w-6 h-0.5 bg-current transition-transform duration-300 origin-center"></span>
        </div>
      </button>
    </div>
  </div>

  <!-- Mobile Navigation Overlay -->
  <div
    id="mobile-nav"
    class="fixed inset-0 bg-slate-950 z-40 flex flex-col items-center justify-center gap-8 transition-all duration-300 opacity-0 pointer-events-none translate-y-4"
  >
    {navLinks.map((link) => (
      <a
        href={link.href}
        class="mobile-nav-link text-2xl font-bold text-gray-300 hover:text-white hover:scale-110 transition-all duration-300"
      >
        {link.label === "Contact" ? (
          <span class="text-sky-400">
            {link.label}
          </span>
        ) : (
          link.label
        )}
      </a>
    ))}
  </div>
</header>

<script>
  const mobileMenuToggle = document.getElementById('mobile-menu-toggle');
  const mobileNav = document.getElementById('mobile-nav');
  const line1 = document.getElementById('line-1');
  const line2 = document.getElementById('line-2');
  const line3 = document.getElementById('line-3');
  const mobileNavLinks = document.querySelectorAll('.mobile-nav-link');
  let isMenuOpen = false;

  function toggleMenu() {
    isMenuOpen = !isMenuOpen;
    
    // Toggle Menu Visibility
    if (isMenuOpen) {
      mobileNav?.classList.remove('opacity-0', 'pointer-events-none', 'translate-y-4');
      mobileNav?.classList.add('opacity-100', 'pointer-events-auto', 'translate-y-0');
      document.body.style.overflow = 'hidden'; // Prevent scrolling when menu is open
      
      // Animate Hamburger to X
      line1?.classList.add('translate-y-2', 'rotate-45');
      line2?.classList.add('opacity-0');
      line3?.classList.add('-translate-y-2', '-rotate-45');
    } else {
      mobileNav?.classList.add('opacity-0', 'pointer-events-none', 'translate-y-4');
      mobileNav?.classList.remove('opacity-100', 'pointer-events-auto', 'translate-y-0');
      document.body.style.overflow = '';
      
      // Animate X back to Hamburger
      line1?.classList.remove('translate-y-2', 'rotate-45');
      line2?.classList.remove('opacity-0');
      line3?.classList.remove('-translate-y-2', '-rotate-45');
    }
  }

  mobileMenuToggle?.addEventListener('click', toggleMenu);

  mobileNavLinks.forEach(link => {
    link.addEventListener('click', () => {
      if (isMenuOpen) toggleMenu();
    });
  });
</script>
